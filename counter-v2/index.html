<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter 2</title>
    <link rel="stylesheet" href="cyui/cyui.css">
    <script src="cyui/cyui.js"></script>
    <script src="counter_core.js"></script>
    <script src="latestloader.js"></script>
    <script src="legacyloader.js"></script>
    <script src="main.js"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
        .iText{
            width: 150px;
        }
    </style>
</head>

<body class="body">
    <h1 class="h1" id="header">Counter<span style="font-size: small; font-weight: 400;">v2</span></h1>
    <br id="headerBR">
    <div id="containerForCounters" style="zoom: 1;">
        <div id="moreDivs" style="display: inline-block;"></div>
    </div>

    <div style="position: absolute; left: 2px; bottom: 2px;">
        <span id="settingsMenuButton"><input type="button" class="cyuibutton" value="settings" onclick='toggleSettingsMenu();'>&nbsp;<span class="cyuitext" style="color: rgba(255, 255, 255, 0.1);">Warning! This is beta version. It lacks a lot of features at the moment.</span></span>
        <div id="settingsMenu" style="display: none;">
            <span class="cyuitext">profile</span>&nbsp;<select name="profiles" class="cyuibutton" id="profileSelect" onchange='switchToProfile(val("profileSelect"))'></select> <br>
            <input type="text" class="cyuibutton iText" placeholder="profile name" id="newProfileName"> <input type="button" class="cyuibutton" value="add" onclick='switchToProfile(val("newProfileName"))'> <input type="button" class="cyuibutton" value="del" onclick='deleteProfile(val("newProfileName"))'><br>
            <br>
            <br>
            <input type="text" class="cyuibutton iText" placeholder="Title" id="counter-title"> <br>
            <span class="cyuitext">repeat</span>&nbsp;<input type="checkbox" id="counter-repeat"/> <br>
            <span class="cyuitext">start</span>&nbsp;<input type="datetime-local" class="cyuibutton" id="dateStart"> <br>
            <span class="cyuitext">end</span>&nbsp;&nbsp;<input type="datetime-local" class="cyuibutton" id="dateEnd"> <br>
            <input type="button" class="cyuibutton" value="add counter" onclick='addCounterFromFrontend();'> <br>
            <br>
            <input type="range" min="10" max="250" step="1" value="100" style="width: 100px; height: 4px;" oninput='setZoomOnCounters(this.value)'><span class="cyuitext" id="zoomInfo">zoom: 100%</span><br>
            <input type="button" class="cyuibutton" value="toggle counter edit menu" onclick='toggleCounterEditModMenu();'><br>
            <input type="text" class="cyuibutton iText" placeholder="profile name for importers" id="profileNameExport">&nbsp;<input type="button" class="cyuibutton" value="export this profile" onclick='getCounterInstance(val("profileNameExport"));'><br>
            <br>
            <input type="button" class="cyuibutton" value="close" onclick='toggleSettingsMenu();'>&nbsp;<span class="cyuitext" id="versionString" style="color: rgba(255, 255, 255, 0.1);">version</span>
        </div>
    </div>

    <script>
        initialize();
        function addCounterFromFrontend(){
            const newCounter = new Counter(val("counter-title"), null, new Date(val("dateStart")).getTime(), new Date(val("dateEnd")).getTime(), valCheckbox("counter-repeat"));
            addCounterToArrayAndFrontend(newCounter);
        }
    </script>
</body>
</html>
